<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compile Sass using a Bootstrap theme and create an htmlDependency object — bs_dependency • bootstraplib</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Compile Sass using a Bootstrap theme and create an htmlDependency object — bs_dependency" />
<meta property="og:description" content="HTML components can have Sass code that uses a Bootstrap theme; when the Sass
is compiled to CSS, it can read variables from the Bootstrap theme. These
functions make this possible, and also make it possible to use dynamic
theming in a Shiny application: if the Bootstrap theme is changed in a
running Shiny application, Sass code that draws on the theme will be
recompiled and sent to the browser to automatically update the appearance of
the components that use it.
bs_dependency() takes input, which is a set of sass rules, compiles it to
CSS using variables and defaults from theme, then creates an
htmltools::htmlDependency() object for the newly-compiled CSS file. This
function isn't called directly, but instead
bs_dependency_defer() takes a function which has one argument, theme,
and that function should call bs_dependency() using that theme. The
function will be not be invoked immediately; it will be invoked when the page
is rendered. At that point, the theme will be available to be passed to it.
The function will also be invoked again if the theme is changed." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bootstraplib</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.2.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/theming.html">Custom themes</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rstudio/bootstraplib/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compile Sass using a Bootstrap theme and create an htmlDependency object</h1>
    <small class="dont-index">Source: <a href='https://github.com/rstudio/bootstraplib/blob/master/R/bs-dependencies.R'><code>R/bs-dependencies.R</code></a></small>
    <div class="hidden name"><code>bs_dependency.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>HTML components can have Sass code that uses a Bootstrap theme; when the Sass
is compiled to CSS, it can read variables from the Bootstrap theme. These
functions make this possible, and also make it possible to use dynamic
theming in a Shiny application: if the Bootstrap theme is changed in a
running Shiny application, Sass code that draws on the theme will be
recompiled and sent to the browser to automatically update the appearance of
the components that use it.</p>
<p><code>bs_dependency()</code> takes <code>input</code>, which is a set of sass rules, compiles it to
CSS using variables and defaults from <code>theme</code>, then creates an
<code><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmltools::htmlDependency()</a></code> object for the newly-compiled CSS file. This
function isn't called directly, but instead</p>
<p><code>bs_dependency_defer()</code> takes a <em>function</em> which has one argument, <code>theme</code>,
and that function should call <code>bs_dependency()</code> using that <code>theme</code>. The
function will be not be invoked immediately; it will be invoked when the page
is rendered. At that point, the theme will be available to be passed to it.
The function will also be invoked again if the theme is changed.</p>
    </div>

    <pre class="usage"><span class='fu'>bs_dependency</span>(
  input = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  <span class='kw'>theme</span>,
  <span class='kw'>name</span>,
  <span class='kw'>version</span>,
  cache_key_extra = <span class='kw'>NULL</span>,
  .dep_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  .sass_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>()
)

<span class='fu'>bs_dependency_defer</span>(<span class='kw'>func</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>input</th>
      <td><p>Sass rules to compile, using <code>theme</code>.</p></td>
    </tr>
    <tr>
      <th>theme</th>
      <td><p>A <code><a href='bs_theme.html'>bs_theme()</a></code> object.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>Library name</p></td>
    </tr>
    <tr>
      <th>version</th>
      <td><p>Library version</p></td>
    </tr>
    <tr>
      <th>cache_key_extra</th>
      <td><p>Extra information to add to the sass cache key. It is
useful to add the version of your package.</p></td>
    </tr>
    <tr>
      <th>.dep_args</th>
      <td><p>A list of additional arguments to pass to
<code><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmltools::htmlDependency()</a></code>.</p></td>
    </tr>
    <tr>
      <th>.sass_args</th>
      <td><p>A list of additional arguments to pass to
<code><a href='https://rdrr.io/pkg/sass/man/sass_partial.html'>sass::sass_partial()</a></code>.</p></td>
    </tr>
    <tr>
      <th>func</th>
      <td><p>a function that takes a <code><a href='bs_theme.html'>bs_theme()</a></code> object (or <code>theme_default</code>)
as input and and returns an <code><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmlDependency()</a></code> (or a list of them).</p></td>
    </tr>
    </table>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>if</span> (<span class='fl'>FALSE</span>) {

<span class='kw'>myWidgetVersion</span> <span class='op'>&lt;-</span> <span class='st'>"1.2.3"</span>

<span class='kw'>myWidgetDependency</span> <span class='op'>&lt;-</span> <span class='fu'>function</span>() {
  <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='fu'>bs_dependency_defer</span>(<span class='kw'>myWidgetCss</span>),
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmlDependency</a></span>(
      name = <span class='st'>"mywidget-js"</span>,
      version = <span class='kw'>myWidgetVersion</span>,
      src = <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(package = <span class='st'>"mypackage"</span>, <span class='st'>"js"</span>),
      script = <span class='st'>"mywidget.js"</span>
    )
  )
}

<span class='kw'>myWidgetCSS</span> <span class='op'>&lt;-</span> <span class='fu'>function</span>(<span class='kw'>theme</span>) {
  <span class='co'>if</span> (<span class='op'>!</span><span class='fu'><a href='bs_theme.html'>is_bs_theme</a></span>(<span class='kw'>theme</span>)) {
    <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(
      <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/htmlDependency.html'>htmlDependency</a></span>(
        name = <span class='st'>"mywidget-css"</span>,
        version = <span class='kw'>myWidgetVersion</span>,
        src = <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(package = <span class='st'>"mypackage"</span>, <span class='st'>"css"</span>),
        stylesheet = <span class='st'>"mywidget.css"</span>
      )
    )
  }

  <span class='co'># Compile mywidget.scss using the variables and defaults from the theme</span>
  <span class='co'># object.</span>
  <span class='kw'>sass_input</span> <span class='op'>&lt;-</span> <span class='kw'>sass</span>::<span class='fu'><a href='https://rdrr.io/pkg/sass/man/sass_import.html'>sass_file</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(package = <span class='st'>"mypackage"</span>, <span class='st'>"scss/mywidget.scss"</span>))

  <span class='fu'>bs_dependency</span>(
    input = <span class='kw'>sass_input</span>,
    theme = <span class='kw'>theme</span>,
    name = <span class='st'>"mywidget"</span>,
    version = <span class='kw'>myWidgetVersion</span>,
    cache_key_extra = <span class='kw'>utils</span>::<span class='fu'><a href='https://rdrr.io/r/utils/packageDescription.html'>packageVersion</a></span>(<span class='st'>"mypackage"</span>)
  )
}

<span class='co'># Note that myWidgetDependency is not defined inside of myWidget. This is so</span>
<span class='co'># that, if `myWidget()` is called multiple times, Shiny can tell that the</span>
<span class='co'># function objects are identical and deduplicate them.</span>
<span class='kw'>myWidget</span> <span class='op'>&lt;-</span> <span class='fu'>function</span>(<span class='kw'>id</span>) {
  <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>div</a></span>(
    id = <span class='kw'>id</span>,
    <span class='fu'><a href='https://rdrr.io/pkg/htmltools/man/builder.html'>span</a></span>(<span class='st'>"myWidget"</span>),
    <span class='fu'>myWidgetDependency</span>()
  )
}
}

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Carson Sievert, Joe Cheng.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '748f014f6e0f347e139ecb794914063d',
    indexName: 'rstudio_bootstraplib',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


