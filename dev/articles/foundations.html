<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Theming foundations • bootstraplib</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Theming foundations">
<meta property="og:description" content="bootstraplib">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bootstraplib</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.0.9001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/recipes.html">Recipes</a>
</li>
<li>
  <a href="../articles/foundations.html">Foundations</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="foundations_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Theming foundations</h1>
                        <h4 class="author">Carson Sievert</h4>
            
            <h4 class="date">2020-09-21</h4>
      
      
      <div class="hidden name"><code>foundations.Rmd</code></div>

    </div>

    
    
<style>
pre {
  border: 1px solid #eee;
}

pre.r {
  background-color: #ffffff;
}

pre.r code {
  background-color: #ffffff;
}

pre.css {
  margin-top: -1rem;
  background-color: #f8f8f8;
  border-radius: 0;
  border-bottom-left-radius: 4px;
  border-bottom-right-radius: 4px;
}
</style>
<p><strong>bootstraplib</strong> provides several functions for creating (i.e., <code><a href="../reference/bs_theme_new.html">bs_theme_new()</a></code>) and adding to (i.e., <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables()</a></code> and <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>) a global theme object. By default, <code><a href="../reference/bootstrap.html">bootstrap()</a></code> includes this global theme when compiling Bootstrap Sass into CSS. Eventually, both <strong>shiny</strong> and <strong>rmarkdown</strong> will implicitly call <code><a href="../reference/bootstrap.html">bootstrap()</a></code> to grab their Bootstrap dependency (as of today, you need to <a href="https://github.com/rstudio/bootstraplib#readme">do this explictly</a>), which means that you’ll eventually be able to use the same code to theme <strong>shiny</strong>, <strong>rmarkdown</strong>, as well as relevant by-products (e.g., <strong>flexdashboard</strong>).</p>
<p>This article summarizes the fundamental concepts behind theming with <strong>bootstraplib</strong>. These foundations build on top of lower-level foundations provided by the <strong>sass</strong> package, so it’s highly recommended that those new to the <strong>sass</strong> and the <a href="https://sass-lang.com/">Sass language</a> also read the <a href="https://rstudio.github.io/sass/articles/sass.html"><strong>sass</strong> overview</a>. The aim of this article is provide you with the mental model you’ll need to perform advanced theming with <strong>bootstraplib</strong>. If you’re looking for more of a “recipe book” of <strong>shiny</strong>/<strong>rmarkdown</strong> theming examples with Bootstrap 4, see <a href="recipes.html">the Recipes article</a>.</p>
<div id="themes-are-layers" class="section level2">
<h2 class="hasAnchor">
<a href="#themes-are-layers" class="anchor"></a>Themes are layers</h2>
<p><strong>bootstraplib</strong> themes are built upon <a href="https://rstudio.github.io/sass/articles/sass.html#layers">sass::sass_layer()</a>, which provides a convenient structure for organizing and combining multiple ‘layers’ or ‘bundles’ of styles in a composable way. Layers, and therefore themes, have three main components: <code>defaults</code> (for overriding variable defaults), <code>declarations</code> (for declaring Sass functions/mixins), and styling <code>rules</code>. Indeed, when you initialize a theme with <code><a href="../reference/bs_theme_new.html">bs_theme_new()</a></code>, the class and names of the theme reflect these core pieces of the <strong>sass</strong> layer:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">bootstraplib</span>)
<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_new</a></span>()
<span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span>(<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_get</a></span>())
<span class="co">#&gt; [1] "bs_theme"   "sass_layer"</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_get</a></span>())[<span class="fl">1</span><span class="op">:</span><span class="fl">3</span>]
<span class="co">#&gt; [1] "defaults"     "declarations" "rules"</span>
</pre></div>
<p>This following sections detail how to add your own layers of <strong>sass</strong> code to the theme via <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code> (and, a special case of it, <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables()</a></code>) with a special focus on common and useful patterns for theming with Bootstrap Sass. By far and away the most important component of the theme (i.e. layer) is <code>defaults</code>: this is where you have the opportunity to override <a href="https://getbootstrap.com/docs/4.4/getting-started/theming/#variable-defaults">Bootstrap variable defaults</a>, which is the main (and easiest) approach to theming with Bootstrap Sass.</p>
</div>
<div id="defaults" class="section level2">
<h2 class="hasAnchor">
<a href="#defaults" class="anchor"></a>Defaults</h2>
<p>Whenever you <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code> to a theme, it hoists any <code>defaults</code> to the top of the existing theme defaults. You can pass any input understood by <code><a href="https://rdrr.io/pkg/sass/man/as_sass.html">sass::as_sass()</a></code> here, including a named list, which is interpreted as variable definitions.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add</a></span>(defaults = <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(primary = <span class="st">"red !default"</span>))
<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_get</a></span>()<span class="op">$</span><span class="kw">defaults</span>
</pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">/* Sass */</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>$primary<span class="in">: red</span> !default;</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="im">@import</span> <span class="st">"/path/to/bootstrap/scss/_functions.scss"</span><span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="im">@import</span> <span class="st">"/path/to/bootstrap/scss/_variables.scss"</span><span class="op">;</span></span></code></pre></div>
<p>When overriding variable defaults, it’s best practice to include a <a href="https://sass-lang.com/documentation/variables#default-values"><code>!default</code> flag</a>, which says “assign this value to this variable <em>if it isn’t already defined</em>”. This way, downstream theming decisions are allowed take precedence over upstream ones. Since this is such a common and suggested practice, we’ve provided <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables()</a></code>, which makes sure you’ve included a <code>!default</code> flag and interprets its arguments as variable names:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables</a></span>(primary = <span class="st">"green"</span>)
<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_get</a></span>()<span class="op">$</span><span class="kw">defaults</span>
</pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">/* Sass */</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>$primary<span class="in">: green</span> !default;</span>
<span id="cb5-3"><a href="#cb5-3"></a>$primary<span class="in">: red</span> !default;</span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="im">@import</span> <span class="st">"/path/to/bootstrap/scss/_functions.scss"</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="im">@import</span> <span class="st">"/path/to/bootstrap/scss/_variables.scss"</span><span class="op">;</span></span></code></pre></div>
<p>To demonstrate that the <code>green</code> default actually overrides the <code>red</code> default, we’ll use <code><a href="../reference/bootstrap.html">bootstrap_sass()</a></code>, which uses the current theming <code>defaults</code> (and <code>declarations</code>) to compile Sass styling <code>rules</code> as a CSS string. We’re using <code><a href="../reference/bootstrap.html">bootstrap_sass()</a></code> here purely for the sake of demonstration, but take note that this function can come in handy for styling custom CSS classes with Bootstrap Sass (this styling rule says to set the <code>foo</code> class’ <code>color</code> property to <code>$primary</code>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/bootstrap.html">bootstrap_sass</a></span>(<span class="st">".foo { color: $primary; }"</span>)
</pre></div>
<div class="sourceCode" id="cb7"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">.foo</span> {</span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="kw">color</span>: <span class="cn">#007bff</span><span class="op">;</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>}</span></code></pre></div>
<p>The right-hand side of a variable definition may be any valid Sass expression, so to do something like <a href="https://getbootstrap.com/docs/4.4/getting-started/theming/#add-to-map">add a new theme color</a>, which requires assigning a <a href="https://sass-lang.com/documentation/values/maps">Sass map</a> to <a href="https://github.com/rstudio/bootstraplib/blob/8c883fad/inst/node_modules/bootstrap/scss/_variables.scss#L78-L92">the $theme-colors variable</a>, you can do:</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables</a></span>(
  <span class="st">"theme-colors"</span> = <span class="st">"('foo-color': orange)"</span>
)
</pre></div>
<p>Also note that Bootstrap provides convenient <a href="https://getbootstrap.com/docs/4.4/getting-started/theming/#functions">functions for accessing values of map variables</a> like <code>$theme-colors</code>, <code>$colors</code>, and <code>$grays</code> (i.e., the main entry points for setting color defaults).</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="fu"><a href="../reference/bootstrap.html">bootstrap_sass</a></span>(<span class="st">".foo { color: theme-color('foo-color') }"</span>)
</pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">.foo</span> {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="kw">color</span>: <span class="cn">orange</span><span class="op">;</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>}</span></code></pre></div>
</div>
<div id="declarations" class="section level2">
<h2 class="hasAnchor">
<a href="#declarations" class="anchor"></a>Declarations</h2>
<p>Theme <code>declarations</code> appear immediately after <code>defaults</code>, and are intended for mainly 2 things: <a href="https://sass-lang.com/documentation/at-rules/mixin">Sass mixins</a> and variable overrides that want to reference other variables or functions. Note that writing your own mixins is really own useful if you intend on writing a lot of your own custom styling <code>rules</code>, so we don’t discuss them, but here’s a contrived example of how you might want to add mixins to the current theme with <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>. In this example, since new theme <code>declaration</code> are placed after existing ones, mixins that appear in the <code>mixin2.scss</code> file could use mixins from the <code>mixin1.scss</code> file.</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add</a></span>(declarations = <span class="kw">sass</span>::<span class="fu"><a href="https://rdrr.io/pkg/sass/man/sass_import.html">sass_file</a></span>(<span class="st">'mixin1.scss'</span>))
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add</a></span>(declarations = <span class="kw">sass</span>::<span class="fu"><a href="https://rdrr.io/pkg/sass/man/sass_import.html">sass_file</a></span>(<span class="st">'mixin2.scss'</span>))
</pre></div>
<p>In some situations, you may want to use Bootstrap functions (e.g. <a href="https://getbootstrap.com/docs/4.4/getting-started/theming/#color-contrast"><code>color-yiq()</code></a>) and/or other Bootstrap variables in your variable definitions. For this scenario, you may set <code>.where = "declarations"</code> in <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables()</a></code>, which places the variable definitions <em>after</em> (instead of before) Bootstrap declarations (i.e., variables, functions, and mixins). For example, we could have the body’s background inherit the secondary theme color and have the body’s foreground color automatically contrast based on the background color.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_new</a></span>()
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables</a></span>(
  <span class="st">"body-bg"</span> = <span class="st">"$secondary"</span>,
  <span class="st">"body-color"</span> = <span class="st">"color-yiq($secondary)"</span>,
  <span class="st">"well-color"</span> = <span class="st">"$body-color"</span>,
  <span class="st">"table-color"</span> = <span class="st">"$body-color"</span>,
  .where = <span class="st">"declarations"</span>
)
<span class="fu"><a href="../reference/bs_theme_preview.html">bs_theme_preview</a></span>()
</pre></div>
<p><img src="https://i.imgur.com/Jzgv4zd.png"><!-- --></p>
</div>
<div id="rules" class="section level2">
<h2 class="hasAnchor">
<a href="#rules" class="anchor"></a>Rules</h2>
<p>Generating custom <a href="https://sass-lang.com/documentation/style-rules">styling rules</a> based on Bootstrap is useful in at least a couple scenarios:</p>
<ol style="list-style-type: decimal">
<li>For some reason, you need to override Bootstrap’s styling rules to achieve the styling you desire.</li>
<li>You want to generate <em>new</em> rules, say new classes, that utilize Bootstrap’s functions, mixins, and/or variables.</li>
</ol>
<p>For an example of (2), see this <a href="https://github.com/rstudio/bootstraplib/blob/master/inst/custom/person.scss">person.scss</a> file, which defines rules for a custom <code>person</code> class, for displaying someone’s name, title, and company. To include these rules with the bundle that <code><a href="../reference/bootstrap.html">bootstrap()</a></code> generates, provide them to the <code>rules</code> argument of the <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code> function.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="http://shiny.rstudio.com">shiny</a></span>)
<span class="fu"><a href="../reference/bs_theme_new.html">bs_theme_new</a></span>()
<span class="fu"><a href="../reference/bs_theme_add_variables.html">bs_theme_add</a></span>(
  rules = <span class="kw">sass</span>::<span class="fu"><a href="https://rdrr.io/pkg/sass/man/sass_import.html">sass_file</a></span>(
    <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(<span class="st">"custom"</span>, <span class="st">"person.scss"</span>, package = <span class="st">"bootstraplib"</span>)
  )
)
<span class="co"># Include custom CSS that leverages bootstrap Sass variables</span>
<span class="kw">person</span> <span class="op">&lt;-</span> <span class="fu">function</span>(<span class="kw">name</span>, <span class="kw">title</span>, <span class="kw">company</span>) {
  <span class="kw">tags</span><span class="op">$</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">div</a></span>(
    class = <span class="st">"person"</span>,
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">h3</a></span>(class = <span class="st">"name"</span>, <span class="kw">name</span>),
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">div</a></span>(class = <span class="st">"title"</span>, <span class="kw">title</span>),
    <span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">div</a></span>(class = <span class="st">"company"</span>, <span class="kw">company</span>)
  )
}
<span class="kw">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/fluidPage.html">fluidPage</a></span>(
  <span class="fu"><a href="../reference/bootstrap.html">bootstrap</a></span>(),
  <span class="fu"><a href="https://rdrr.io/r/utils/person.html">person</a></span>(<span class="st">"Andrew Carnegie"</span>, <span class="st">"Owner"</span>, <span class="st">"Carnegie Steel Company"</span>),
  <span class="fu"><a href="https://rdrr.io/r/utils/person.html">person</a></span>(<span class="st">"John D. Rockefeller"</span>, <span class="st">"Chairman"</span>, <span class="st">"Standard Oil"</span>)
)
<span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/shinyApp.html">shinyApp</a></span>(<span class="kw">ui</span>, <span class="fu">function</span>(<span class="kw">input</span>, <span class="kw">output</span>) {})
</pre></div>
<p><img src="person.png"><!-- --></p>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>Themes have three main components: <code>defaults</code> (for overriding variable defaults), <code>declarations</code> (for declaring Sass functions and mixins), and styling <code>rules</code>. <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code> may be used to add any of these components to the existing theme and <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables()</a></code> is specifically designed for setting variable <code>defaults</code>. Recall that when you add to an existing theme:</p>
<ul>
<li>
<code>defaults</code> for downstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s are placed <em>before</em> <code>defaults</code> for upstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s.
<ul>
<li>Allowing downstream Sass to override variable defaults in upstream Sass.</li>
</ul>
</li>
<li>
<code>declarations</code> for downstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s are placed <em>after</em> <code>declarations</code> for upstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s.
<ul>
<li>Allowing downstream Sass to use functions and mixins defined in upstream Sass.</li>
<li>Allowing variable definitions to use variables defined in <code>defaults</code> (or prior declarations).</li>
</ul>
</li>
<li>
<code>rules</code> for downstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s are placed <em>after</em> <code>rules</code> for upstream <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add()</a></code>s.
<ul>
<li>Allows downstream rules to take precedence over upstream rules (<a href="https://css-tricks.com/precedence-css-order-css-matters/">precedence</a> matters when there are multiple rules with the same level of <a href="https://css-tricks.com/specifics-on-css-specificity/">specificity</a>).</li>
</ul>
</li>
</ul>
<p>It’s also worth noting that <code>sass::sass_layers()</code>, and thus themes, have more than these three components. It’s also possible to <a href="https://rstudio.github.io/sass/articles/sass.html#imports-relative">resolve relative file imports</a> and <a href="https://rstudio.github.io/sass/articles/sass.html#html-dependencies">include HTML dependencies</a>.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Note that if, for some reason, you wanted a theme color to be based on another variable, you’d have to do, <code><a href="../reference/bs_theme_add_variables.html">bs_theme_add_variables("theme-colors" = 'map-merge($theme-colors, ("primary": $dark))', .where = "declarations")</a></code>, since the <code>$theme-colors</code> map is <a href="https://github.com/rstudio/bootstraplib/blob/8c883fad/inst/node_modules/bootstrap/scss/_variables.scss#L78-L92">constructed before declarations</a>.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>You can also compile these rules with <code><a href="../reference/bootstrap.html">bootstrap_sass()</a></code> which returns a CSS string. In that case, you’d have to manually <a href="http://rstudio.github.io/sass/articles/sass.html#shiny-string">include the string as a <code>&lt;style&gt;</code> tag</a>.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Carson Sievert, Joe Cheng.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '748f014f6e0f347e139ecb794914063d',
    indexName: 'rstudio_bootstraplib',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
